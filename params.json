{"name":"Togetherjs-bookmarklet","tagline":"Just a bookmarklet for a easier use of the TogetherJS javascript collaboration library by Mozilla","body":"togetherjs-bookmarklet\r\n======================\r\n\r\nJust a bookmarklet for a lazier use of the [TogetherJS](https://togetherjs.com) javascript collaboration library by [Mozilla](https://mozilla.org)\r\n\r\n<a href=\"javascript:(function(e,t,n){var r=function(){var t=function(e){e=e||10;var t='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUV0123456789';var n='';for(var r=0;r<e;r++){n+=t.charAt(Math.floor(Math.random()*t.length))}return n},n=t(),r=e.prompt('Type session ID to join or create\\n (default is \\'together\\')')||'together',i={reason:'started',shareId:r,running:true,date:Date.now(),sessionId:n};if(typeof sessionStorage['togetherjs-session.status']!=='undefined'){i=JSON.parse(sessionStorage['togetherjs-session.status']);i.shareId=r;i.running=true}i=JSON.stringify(i);return i}();sessionStorage['togetherjs-session.status']=r;if(typeof TogetherJS!=='undefined'){if(TogetherJS._loaded){TogetherJS.on('close',function(){TogetherJS(e)});TogetherJS(e)}else{TogetherJS(e)}}else{var i=t.createElement('script'),s='https://togetherjs.com/togetherjs-min.js';i.setAttribute('src',s);t.body.appendChild(i)}})(window,document)\">TogetherJS</a>\r\n\t<span>&#x21E6; drag this to your bookmarks or click to test it</span>\r\n\r\n###Bookmarklet\r\n```javascript\r\njavascript:(function(e,t,n){var r=function(){var t=function(e){e=e||10;var t='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUV0123456789';var n='';for(var r=0;r<e;r++){n+=t.charAt(Math.floor(Math.random()*t.length))}return n},n=t(),r=e.prompt('Type session ID to join or create\\n (default is \\'together\\')')||'together',i={reason:'started',shareId:r,running:true,date:Date.now(),sessionId:n};if(typeof sessionStorage['togetherjs-session.status']!=='undefined'){i=JSON.parse(sessionStorage['togetherjs-session.status']);i.shareId=r;i.running=true}i=JSON.stringify(i);return i}();sessionStorage['togetherjs-session.status']=r;if(typeof TogetherJS!=='undefined'){if(TogetherJS._loaded){TogetherJS.on('close',function(){TogetherJS(e)});TogetherJS(e)}else{TogetherJS(e)}}else{var i=t.createElement('script'),s='https://togetherjs.com/togetherjs-min.js';i.setAttribute('src',s);t.body.appendChild(i)}})(window,document);\r\n````\r\n\r\n###Source\r\n```javascript\r\n(function(window, document, undefined){\r\n\tvar session = (function(){\r\n\t\t\tvar generateId = function (length) {\r\n\t\t\t\t\t//copy/paste from togetherjs/utils.js\r\n\t\t\t\t\tlength = length || 10;\r\n\t\t\t\t\tvar letters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUV0123456789';\r\n\t\t\t\t\tvar s = '';\r\n\t\t\t\t\tfor (var i=0; i<length; i++) {\r\n\t\t\t\t\t\ts += letters.charAt(Math.floor(Math.random() * letters.length));\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn s;\r\n\t\t\t\t},\r\n\t\t\t\tsessionId = generateId(),\r\n\t\t\t\tshareId = (window.prompt('Type session ID to join or create (default is \\'together\\')') || 'together'),\r\n\t\t\t\tsessionSt = {\r\n\t\t\t\t\treason: 'started',\r\n\t\t\t\t\tshareId: shareId,\r\n\t\t\t\t\trunning: true,\r\n\t\t\t\t\tdate: Date.now(),\r\n\t\t\t\t\tsessionId: sessionId\r\n\t\t\t\t};\r\n\r\n\t\t\tif (typeof sessionStorage['togetherjs-session.status'] !== 'undefined') {\r\n\t\t\t\tsessionSt = JSON.parse(sessionStorage['togetherjs-session.status']);\r\n\t\t\t\tsessionSt.shareId = shareId;\r\n\t\t\t\tsessionSt.running = true;\r\n\t\t\t}\r\n\t\t\tsessionSt = JSON.stringify(sessionSt);\r\n\r\n\t\t\treturn sessionSt;\r\n\t\t})();\r\n\r\n\tsessionStorage['togetherjs-session.status'] = session;\r\n\r\n\tif (typeof TogetherJS !== 'undefined') {\r\n\t\tif (TogetherJS._loaded) {\r\n\t\t\tTogetherJS.on(\"close\", function () {\r\n\t\t\t\tTogetherJS(window);//open\r\n\t\t\t});\r\n\t\t\tTogetherJS(window);//close\r\n\t\t}\r\n\t\telse {\r\n\t\t\tTogetherJS(window);//open\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tvar script = document.createElement('script'),\r\n\t\t\tscriptSrc = 'https://togetherjs.com/togetherjs-min.js';\r\n\r\n\t\tscript.setAttribute('src',scriptSrc);\r\n\t\tdocument.body.appendChild(script);\r\n\t}\t\r\n})(window, document);\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}